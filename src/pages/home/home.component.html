<div fxFill fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="1em">
    <div fxLayout="column" class="form-container slide-in" [class.view-actual]="showView">
        <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="1em">
            <img src="assets/app-logo.png" class="logo">
            <div class="mr-1" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="0.2em">
                <span class="app-name">Assessment Portal</span>
                <span class="app-tagline">
                    <span>Test | Track | Succeed</span>
                </span>
            </div>
        </div>
        <div class="progress-bar" *ngIf="!showView">
            <div class="progress" [class.loaded]="loaderComplete"></div>
        </div>
        <mat-tab-group *ngIf="showView" animationDuration="0ms">
            <mat-tab label="Sign In">
                <div fxLayout="column" fxLayoutGap="1em" class="form">
                    <mat-form-field appearance="outline">
                        <mat-label>Email Id</mat-label>
                        <input matInput placeholder="Email Id" [(ngModel)]="loginUser.email">
                        <mat-icon matSuffix>person</mat-icon>
                        <mat-hint>Enter your email</mat-hint>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Password</mat-label>
                        <input type="password" matInput placeholder="Password" [(ngModel)]="loginUser.password">
                        <mat-icon matSuffix>security</mat-icon>
                        <mat-hint>Enter your password</mat-hint>
                    </mat-form-field>
                    <button *ngIf="loginUser && isGuestUser" mat-raised-button color="primary" (click)="login(true)">Sign In As Guest</button>
                    <button *ngIf="loginUser && isUser" mat-raised-button color="primary" (click)="login(false)">Sign In</button>
                </div>
            </mat-tab>
            <mat-tab label="Forgot Password">
                <div fxLayout="column" fxLayoutGap="1em" class="form">
                    <mat-form-field appearance="outline">
                        <mat-label>Email Id</mat-label>
                        <input matInput placeholder="Email Id" [(ngModel)]="forgotPassword.email">
                        <mat-icon matSuffix>person</mat-icon>
                        <mat-hint>Enter your email</mat-hint>
                    </mat-form-field>
                    <div [hidden]="!hasOtp">
                        <canvas class="canvas" #canvasEl></canvas>
                    </div>
                    <mat-form-field appearance="outline" *ngIf="hasOtp">
                        <mat-label>UIN</mat-label>
                        <input matInput placeholder="UIN" [(ngModel)]="forgotPassword.otp">
                        <mat-icon matSuffix>lock</mat-icon>
                        <mat-hint>Enter password</mat-hint>
                    </mat-form-field>
                    <mat-form-field appearance="outline" *ngIf="hasOtp">
                        <mat-label>New Password</mat-label>
                        <input type="password" matInput placeholder="Password" [(ngModel)]="forgotPassword.password">
                        <mat-icon matSuffix>security</mat-icon>
                        <mat-hint>Enter new password</mat-hint>
                    </mat-form-field>
                    <button *ngIf="!hasOtp" mat-raised-button color="primary" (click)="forgotPasswordGetOtp()">Get UIN</button>
                    <button *ngIf="hasOtp && forgotPassword.otp && forgotPassword.password" mat-raised-button color="primary" (click)="resetPassword()">Reset Password</button>
                </div>
            </mat-tab>
            <mat-tab label="Sign Up">
                <div fxLayout="column" fxLayoutGap="1em" class="form">
                    <mat-form-field appearance="outline">
                        <mat-label>Name</mat-label>
                        <input matInput placeholder="Name" [(ngModel)]="signUpUser.name">
                        <mat-hint>Enter your name</mat-hint>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Course</mat-label>
                        <mat-select [(ngModel)]="signUpUser.courses" name="courses" multiple>
                            <mat-option *ngFor="let course of courses" [value]="course.course">
                                {{course.course}}
                            </mat-option>
                        </mat-select>
                        <mat-hint>Select course(s)</mat-hint>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Email Id</mat-label>
                        <input matInput placeholder="Email Id" [(ngModel)]="signUpUser.email">
                        <mat-hint>Enter your email</mat-hint>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Password</mat-label>
                        <input type="password" matInput placeholder="Password" [(ngModel)]="signUpUser.password">
                        <mat-hint>Enter your password</mat-hint>
                    </mat-form-field>
                    <button [disabled]="!signUpUser.email || !signUpUser.password || !signUpUser.name || !signUpUser.courses.length" mat-raised-button color="primary" (click)="auth.signUp(signUpUser)">Sign Up</button>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>